<script>
  // FAQ functionality
  document.addEventListener('DOMContentLoaded', function() {
    const faqQuestions = document.querySelectorAll('.faq-question');
   
    faqQuestions.forEach(question => {
      question.addEventListener('click', function() {
        const answer = this.nextElementSibling;
        const isActive = answer.classList.contains('show');
       
        // Close all other answers
        document.querySelectorAll('.faq-answer').forEach(ans => {
          ans.classList.remove('show');
        });
       
        // Toggle current answer
        if (!isActive) {
          answer.classList.add('show');
          this.querySelector('i').className = 'fas fa-chevron-up';
        } else {
          answer.classList.remove('show');
          this.querySelector('i').className = 'fas fa-chevron-down';
        }
      });
    });
   
    // Chatbot functionality
    const chatMessages = document.getElementById('chat-messages');
    const chatInput = document.getElementById('chat-input');
    const sendButton = document.getElementById('send-button');
    const languageSelector = document.getElementById('language-selector');
    const quickActions = document.querySelectorAll('.quick-action');
   
    // Multilingual responses for English, Hindi, Telugu, Kannada
    const responses = {
      en: {
        greeting: "Hello! I'm your Cyber Shield Assistant. How can I help you with cybersecurity today?",
        phishing: "Phishing is a cyber attack that uses disguised email as a weapon. The goal is to trick the email recipient into believing that the message is something they want or need. To protect yourself: never click suspicious links, verify sender addresses, and use multi-factor authentication.",
        passwords: "Strong passwords should be at least 12 characters long and include a mix of uppercase, lowercase, numbers, and symbols. Never reuse passwords across different accounts. Consider using a password manager to generate and store secure passwords.",
        malware: "Malware is malicious software designed to harm or exploit devices. Protect yourself by: keeping software updated, using antivirus software, avoiding suspicious downloads, and backing up important data regularly.",
        report: "To report a cyber crime in India, call the national helpline at 1930 or visit your local police cyber cell. Provide as much information as possible about the incident.",
        default: "I understand you're asking about cybersecurity. For specific assistance, please contact our helpline at 1-800-CYBER-HELP or use the quick action buttons above."
      },
      hi: {
        greeting: "नमस्ते! मैं आपका साइबर शील्ड असिस्टेंट हूं। आज मैं साइबर सुरक्षा में आपकी कैसे मदद कर सकता हूं?",
        phishing: "फिशिंग एक साइबर हमला है जो ईमेल को हथियार के रूप में इस्तेमाल करता है। इसका लक्ष्य ईमेल प्राप्तकर्ता को यह विश्वास दिलाना है कि संदेश कुछ ऐसा है जो उन्हें चाहिए। अपनी सुरक्षा के लिए: संदिग्ध लिंक पर कभी क्लिक न करें, प्रेषक पते सत्यापित करें, और मल्टी-फैक्टर प्रमाणीकरण का उपयोग करें।",
        passwords: "मजबूत पासवर्ड कम से कम 12 वर्ण लंबे होने चाहिए और इसमें अपरकेस, लोअरकेस, संख्याओं और प्रतीकों का मिश्रण शामिल होना चाहिए। विभिन्न खातों में पासवर्ड का पुन: उपयोग कभी न करें। सुरक्षित पासवर्ड जेनरेट करने और संग्रहीत करने के लिए पासवर्ड मैनेजर का उपयोग करने पर विचार करें।",
        malware: "मैलवेयर दुर्भावनापूर्ण सॉफ्टवेयर है जिसे उपकरणों को नुकसान पहुंचाने या उनका शोषण करने के लिए डिज़ाइन किया गया है। सॉफ़्टवेयर को अपडेट रखकर, एंटीवायरस सॉफ़्टवेयर का उपयोग करके, संदिग्ध डाउनलोड से बचकर और नियमित रूप से महत्वपूर्ण डेटा का बैकअप लेकर अपनी सुरक्षा करें।",
        report: "भारत में साइबर अपराध की रिपोर्ट करने के लिए, राष्ट्रीय हेल्पलाइन 1930 पर कॉल करें या अपनी स्थानीय पुलिस साइबर सेल पर जाएं। घटना के बारे में यथासंभव अधिक जानकारी प्रदान करें।",
        default: "मैं समझता हूं कि आप साइबर सुरक्षा के बारे में पूछ रहे हैं। विशिष्ट सहायता के लिए, कृपया हमारी हेल्पलाइन 1-800-CYBER-HELP पर संपर्क करें या ऊपर दिए गए त्वरित कार्य बटनों का उपयोग करें।"
      },
      te: {
        greeting: "హలో! నేను మీ సైబర్ షీల్డ్ అసిస్టెంట్. సైబర్ సెక్యూరిటీలో నేను ఈరోజు మీకు ఎలా సహాయపడగలను?",
        phishing: "ఫిషింగ్ అనేది మారువేషంలో ఉన్న ఇమెయిల్ను ఆయుధంగా ఉపయోగించే సైబర్ దాడి. ఇమెయిల్ గ్రహీత సందేశం తమకు కావలసినది లేదా అవసరమైనదని నమ్మించడమే లక్ష్యం. మిమ్మల్ని రక్షించుకోవడానికి: అనుమానాస్పద లింక్లపై ఎప్పుడూ క్లిక్ చేయవద్దు, పంపినవారి చిరునామాలను ధృవీకరించండి మరియు బహుళ-కారకాల ప్రమాణీకరణను ఉపయోగించండి.",
        passwords: "బలమైన పాస్వర్డ్లు కనీసం 12 అక్షరాలు పొడవు ఉండాలి మరియు పెద్ద అక్షరాలు, చిన్న అక్షరాలు, సంఖ్యలు మరియు చిహ్నాల మిశ్రమాన్ని కలిగి ఉండాలి. వివిధ ఖాతాలలో పాస్వర్డ్లను మళ్లీ ఉపయోగించవద్దు. సురక్షిత పాస్వర్డ్లను రూపొందించడానికి మరియు నిల్వ చేయడానికి పాస్వర్డ్ మేనేజర్ని ఉపయోగించడం గురించి ఆలోచించండి.",
        malware: "మాల్వేర్ అనేది పరికరాలకు హాని చేయడానికి లేదా వినియోగించుకోవడానికి రూపొందించబడిన హానికరమైన సాఫ్ట్వేర్. సాఫ్ట్వేర్ను నవీకరించడం, యాంటీవైరస్ సాఫ్ట్వేర్ను ఉపయోగించడం, అనుమానాస్పద డౌన్లోడ్లను నివారించడం మరియు ముఖ్యమైన డేటాను క్రమం తప్పకుండా బ్యాకప్ చేయడం ద్వారా మిమ్మల్ని రక్షించుకోండి.",
        report: "భారతదేశంలో సైబర్ నేరాన్ని నివేదించడానికి, జాతీయ హెల్ప్‌లైన్ 1930 కి కాల్ చేయండి లేదా మీ స్థానిక పోలీసు సైబర్ సెల్ను సందర్శించండి. సంఘటన గురించి వీలైనంత ఎక్కువ సమాచారాన్ని అందించండి.",
        default: "మీరు సైబర్ భద్రత గురించి అడుగుతున్నారని నేను అర్థం చేసుకున్నాను. నిర్దిష్ట సహాయం కోసం, దయచేసి మా హెల్ప్‌లైన్ 1-800-CYBER-HELP కి సంప్రదించండి లేదా పైన ఉన్న త్వరిత చర్య బటన్లను ఉపయోగించండి."
      },
      kn: {
        greeting: "ನಮಸ್ಕಾರ! ನಾನು ನಿಮ್ಮ ಸೈಬರ್ ಶೀಲ್ಡ್ ಸಹಾಯಕ. ಸೈಬರ್ ಸುರಕ್ಷತೆಯಲ್ಲಿ ನಾನು ಇಂದು ನಿಮಗೆ ಹೇಗೆ ಸಹಾಯ ಮಾಡಬಹುದು?",
        phishing: "ಫಿಶಿಂಗ್ ಎಂಬುದು ವೇಷಧಾರಿತ ಇಮೇಲ್ ಅನ್ನು ಆಯುಧವಾಗಿ ಬಳಸುವ ಸೈಬರ್ ದಾಳಿ. ಇಮೇಲ್ ಸ್ವೀಕರಿಸುವವರು ಸಂದೇಶವು ಅವರು ಬಯಸಿದ ಅಥವಾ ಅಗತ್ಯವಿರುವ ವಿಷಯವೆಂದು ನಂಬುವಂತೆ ಮಾಡುವುದೇ ಗುರಿ. ನಿಮ್ಮನ್ನು ರಕ್ಷಿಸಿಕೊಳ್ಳಲು: ಅನುಮಾನಾಸ್ಪದ ಲಿಂಕ್‌ಗಳ ಮೇಲೆ ಎಂದಿಗೂ ಕ್ಲಿಕ್ ಮಾಡಬೇಡಿ, ಕಳುಹಿಸುವವರ ವಿಳಾಸಗಳನ್ನು ಪರಿಶೀಲಿಸಿ ಮತ್ತು ಬಹು-ಅಂಶಗಳ ಪ್ರಮಾಣೀಕರಣವನ್ನು ಬಳಸಿ.",
        passwords: "ಪ್ರಬಲ ಪಾಸ್‌ವರ್ಡ್‌ಗಳು ಕನಿಷ್ಠ 12 ಅಕ್ಷರಗಳ ಉದ್ದವಿರಬೇಕು ಮತ್ತು ದೊಡ್ಡಕ್ಷರ, ಸಣ್ಣಕ್ಷರ, ಸಂಖ್ಯೆಗಳು ಮತ್ತು ಚಿಹ್ನೆಗಳ ಮಿಶ್ರಣವನ್ನು ಒಳಗೊಂಡಿರಬೇಕು. ವಿವಿಧ ಖಾತೆಗಳ ನಡುವೆ ಪಾಸ್‌ವರ್ಡ್‌ಗಳನ್ನು ಎಂದಿಗೂ ಮರುಬಳಕೆ ಮಾಡಬೇಡಿ. ಸುರಕ್ಷಿತ ಪಾಸ್‌ವರ್ಡ್‌ಗಳನ್ನು ರಚಿಸಲು ಮತ್ತು ಸಂಗ್ರಹಿಸಲು ಪಾಸ್‌ವರ್ಡ್ ಮ್ಯಾನೇಜರ್ ಬಳಸುವುದನ್ನು ಪರಿಗಣಿಸಿ.",
        malware: "ಮಾಲ್ವೇರ್ ಎಂಬುದು ಸಾಧನಗಳಿಗೆ ಹಾನಿ ಮಾಡಲು ಅಥವಾ ಶೋಷಣೆ ಮಾಡಲು ವಿನ್ಯಾಸಗೊಳಿಸಿದ ದುರುದ್ದೇಶಪೂರಿತ ಸಾಫ್ಟ್‌ವೇರ್. ಸಾಫ್ಟ್‌ವೇರ್ ಅನ್ನು ನವೀಕರಿಸಿಡುವುದು, ಆಂಟಿವೈರಸ್ ಸಾಫ್ಟ್‌ವೇರ್ ಬಳಸುವುದು, ಅನುಮಾನಾಸ್ಪದ ಡೌನ್‌ಲೋಡ್‌ಗಳನ್ನು ತಪ್ಪಿಸುವುದು ಮತ್ತು ಮುಖ್ಯವಾದ ಡೇಟಾವನ್ನು ನಿಯಮಿತವಾಗಿ ಬ್ಯಾಕಪ್ ಮಾಡುವುದರಿಂದ ನಿಮ್ಮನ್ನು ರಕ್ಷಿಸಿಕೊಳ್ಳಿ.",
        report: "ಭಾರತದಲ್ಲಿ ಸೈಬರ್ ಅಪರಾಧವನ್ನು ವರದಿ ಮಾಡಲು, ರಾಷ್ಟ್ರೀಯ ಸಹಾಯ ಸಾಲು 1930 ಗೆ ಕರೆ ಮಾಡಿ ಅಥವಾ ನಿಮ್ಮ ಸ್ಥಳೀಯ ಪೊಲೀಸ್ ಸೈಬರ್ ಸೆಲ್ ಅನ್ನು ಭೇಟಿ ಮಾಡಿ. ಘಟನೆಯ ಬಗ್ಗೆ ಸಾಧ್ಯವಾದಷ್ಟು ಹೆಚ್ಚು ಮಾಹಿತಿಯನ್ನು ಒದಗಿಸಿ.",
        default: "ನೀವು ಸೈಬರ್ ಸುರಕ್ಷತೆಯ ಬಗ್ಗೆ ಕೇಳುತ್ತಿದ್ದೀರಿ ಎಂದು ನಾನು ಅರ್ಥಮಾಡಿಕೊಂಡಿದ್ದೇನೆ. ನಿರ್ದಿಷ್ಟ ಸಹಾಯಕ್ಕಾಗಿ, ದಯವಿಟ್ಟು ನಮ್ಮ ಸಹಾಯ ಸಾಲು 1-800-CYBER-HELP ಗೆ ಸಂಪರ್ಕಿಸಿ ಅಥವಾ ಮೇಲಿನ ತ್ವರಿತ ಕ್ರಿಯೆ ಬಟನ್‌ಗಳನ್ನು ಬಳಸಿ."
      }
    };
   
    // Function to add message to chat
    function addMessage(text, isUser = false) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${isUser ? 'user-message' : 'bot-message'}`;
      messageDiv.textContent = text;
      chatMessages.appendChild(messageDiv);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
   
    // Function to handle user message
    function handleUserMessage(message) {
      const lang = languageSelector.value;
      addMessage(message, true);
     
      let response = responses[lang]?.default || responses.en.default;
     
      if (message.toLowerCase().includes('phishing') || message.toLowerCase().includes('fish')) {
        response = responses[lang]?.phishing || responses.en.phishing;
      } else if (message.toLowerCase().includes('password')) {
        response = responses[lang]?.passwords || responses.en.passwords;
      } else if (message.toLowerCase().includes('malware') || message.toLowerCase().includes('virus')) {
        response = responses[lang]?.malware || responses.en.malware;
      } else if (message.toLowerCase().includes('report') || message.toLowerCase().includes('crime')) {
        response = responses[lang]?.report || responses.en.report;
      }
     
      setTimeout(() => addMessage(response), 1000);
    }
   
    // Send button click event
    sendButton.addEventListener('click', function() {
      const message = chatInput.value.trim();
      if (message) {
        handleUserMessage(message);
        chatInput.value = '';
      }
    });
   
    // Enter key event
    chatInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        sendButton.click();
      }
    });
   
    // Quick action buttons for all four languages
    quickActions.forEach(button => {
      button.addEventListener('click', function() {
        const question = this.getAttribute('data-question');
        const lang = languageSelector.value;
        let questionText = '';
       
        switch(question) {
          case 'phishing':
            questionText = lang === 'en' ? 'Tell me about phishing attacks' :
                          lang === 'hi' ? 'फिशिंग हमलों के बारे में बताएं' :
                          lang === 'te' ? 'ఫిషింగ్ దాడుల గురించి చెప్పండి' :
                          lang === 'kn' ? 'ಫಿಶಿಂಗ್ ದಾಳಿಗಳ ಕುರಿತು ಹೇಳಿ' :
                          'Tell me about phishing attacks';
            break;
          case 'passwords':
            questionText = lang === 'en' ? 'How to create strong passwords?' :
                          lang === 'hi' ? 'मजबूत पासवर्ड कैसे बनाएं?' :
                          lang === 'te' ? 'బలమైన పాస్వర్డ్లను ఎలా సృష్టించాలి?' :
                          lang === 'kn' ? 'ಪ್ರಬಲ ಪಾಸ್‌ವರ್ಡ್‌ಗಳನ್ನು ಹೇಗೆ ರಚಿಸುವುದು?' :
                          'How to create strong passwords?';
            break;
          case 'malware':
            questionText = lang === 'en' ? 'How to protect against malware?' :
                          lang === 'hi' ? 'मैलवेयर से कैसे बचें?' :
                          lang === 'te' ? 'మాల్వేర్ నుండి ఎలా రక్షించుకోవాలి?' :
                          lang === 'kn' ? 'ಮಾಲ್ವೇರ್ನಿಂದ ಹೇಗೆ ರಕ್ಷಿಸಿಕೊಳ್ಳುವುದು?' :
                          'How to protect against malware?';
            break;
          case 'report':
            questionText = lang === 'en' ? 'How to report a cyber crime?' :
                          lang === 'hi' ? 'साइबर अपराध की रिपोर्ट कैसे करें?' :
                          lang === 'te' ? 'సైబర్ నేరాన్ని ఎలా నివేదించాలి?' :
                          lang === 'kn' ? 'ಸೈಬರ್ ಅಪರಾಧವನ್ನು ಹೇಗೆ ವರದಿ ಮಾಡುವುದು?' :
                          'How to report a cyber crime?';
            break;
        }
       
        handleUserMessage(questionText);
      });
    });
  });
</script>
