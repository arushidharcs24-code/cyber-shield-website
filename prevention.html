<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ==== BASIC META ==== -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description"
        content="Enterprise-grade cyber-security prevention protocols, interactive quiz, and up-to-date threat resources." />
  <meta name="robots" content="index, follow" />
  <meta name="theme-color" content="#1e3a8a" />

  <!-- ==== Open Graph ==== -->
  <meta property="og:title" content="Cyber Shield – Prevention Protocols" />
  <meta property="og:description"
        content="Learn MFA, URL verification, credential hygiene and test your knowledge with an interactive quiz." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://arushidharcs24-code.github.io/cyber-shield-website/prevention.html" />
  <meta property="og:image"
        content="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" />

  <title>Cyber Shield | Enterprise Protection Protocols</title>

  <!-- ==== PRECONNECT ==== -->
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <!-- ==== FONTS ==== -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&
         family=Source+Sans+Pro:wght@300;400;600;700&display=swap"
        rel="stylesheet" media="print" onload="this.media='all'">

  <!-- ==== ICONS (async) ==== -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-pPn6B8c2e5jI2L5jK4T0z1d4F7yKx5Z4X8M7uF7kJq2M8uX5jX5k="
        crossorigin="anonymous" referrerpolicy="no-referrer" media="print" onload="this.media='all'">

  <!-- ==== CSP (basic) ==== -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com;
                 style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
                 img-src 'self' https: data:; frame-src https://www.youtube.com;">

  <style>
    /* ==== CSS VARIABLES & RESETS (unchanged) ==== */
    :root{--primary:#1e3a8a;--primary-dark:#1e40af;--primary-light:#dbeafe;--secondary:#3b82f6;
          --secondary-dark:#2563eb;--success:#10b981;--success-light:#d1fae5;--danger:#ef4444;
          --danger-light:#fee2e2;--warning:#f59e0b;--warning-light:#fef3c7;--bg-light:#f0f9ff;
          --bg-lighter:#f8fafc;--text-dark:#1e293b;--text-medium:#475569;--text-light:#64748b;
          --card-bg:#ffffff;--border:#e2e8f0;--border-light:#f1f5f9;}
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
    html{scroll-behavior:smooth;}
    body{font-family:'Source Sans Pro','Segoe UI',system-ui,sans-serif;background:var(--bg-light);
          color:var(--text-dark);line-height:1.6;position:relative;overflow-x:hidden;}
    /* ==== DARK MODE ==== */
    @media (prefers-color-scheme: dark){
      :root{--bg-light:#0f172a;--bg-lighter:#1e293b;--card-bg:#1e293b;--text-dark:#f1f5f9;
            --text-medium:#cbd5e1;--border:#334155;}
      .tip-card.good{background:var(--success-light);}
      .tip-card.bad{background:var(--danger-light);}
    }
    /* ==== FOCUS STYLES ==== */
    a:focus, button:focus{outline:2px solid var(--primary);outline-offset:2px;}
    /* ==== NAVBAR (mobile hamburger) ==== */
    .navbar{display:flex;justify-content:space-between;align-items:center;background:linear-gradient(135deg,var(--primary),var(--primary-dark));
             color:#fff;padding:15px 30px;z-index:1000;box-shadow:0 4px 12px rgba(0,0,0,.1);position:sticky;top:0;}
    .navbar .logo{font-size:22px;font-weight:bold;display:flex;align-items:center;gap:10px;}
    .nav-links{list-style:none;display:flex;gap:25px;}
    .nav-links a{text-decoration:none;color:#fff;font-weight:500;transition:all .3s;padding:8px 12px;
                border-radius:6px;position:relative;overflow:hidden;}
    .nav-links a::before{content:'';position:absolute;bottom:0;left:0;width:0;height:2px;
                         background:#fff;transition:width .3s;}
    .nav-links a:hover::before,.nav-links a.active::before{width:100%;}
    .nav-links a:hover,.nav-links a.active{background:rgba(255,255,255,.1);}
    .nav-toggle{display:none;cursor:pointer;font-size:1.5rem;}
    @media (max-width:768px){
      .nav-toggle{display:block;}
      .nav-links{position:absolute;top:100%;left:0;right:0;background:var(--primary-dark);
                 flex-direction:column;gap:0;align-items:center;
                 max-height:0;overflow:hidden;transition:max-height .4s ease;}
      .nav-links.open{max-height:500px;padding:1rem 0;}
      .nav-links a{padding:12px 0;width:100%;text-align:center;}
    }
    /* ==== PARTICLES (unchanged) ==== */
    .particles{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;pointer-events:none;}
    .particle{position:absolute;width:4px;height:4px;background:var(--primary-light);
              border-radius:50%;opacity:.3;animation:float 15s infinite linear;}
    @keyframes float{0%{transform:translateY(0) translateX(0);opacity:.3;}
                     50%{opacity:.6;}
                     100%{transform:translateY(-100vh) translateX(100px);opacity:.3;}}
    /* ==== ALERT BANNER ==== */
    .alert-banner{background:var(--danger);color:#fff;padding:12px 0;overflow:hidden;
                   position:relative;font-weight:600;box-shadow:0 2px 8px rgba(0,0,0,.1);z-index:10;}
    .alert-content{display:inline-block;white-space:nowrap;animation:scrollText 25s linear infinite;padding-left:100%;}
    @keyframes scrollText{0%{transform:translateX(0);}100%{transform:translateX(-100%);}}
    /* ==== HEADER ==== */
    header{background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:#fff;
            padding:4rem 1.5rem;text-align:center;box-shadow:0 4px 20px rgba(0,0,0,.1);
            position:relative;overflow:hidden;}
    header::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;
                   background:url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");opacity:.4;}
    .brand-container{display:flex;align-items:center;justify-content:center;gap:1.5rem;margin-bottom:1rem;}
    .logo{font-size:3.5rem;color:#fff;filter:drop-shadow(0 2px 4px rgba(0,0,0,.2));animation:pulse 2s infinite;}
    @keyframes pulse{0%,100%{transform:scale(1);}50%{transform:scale(1.05);}}
    .site-title{font-size:2.75rem;font-weight:700;letter-spacing:-.025em;font-style:italic;
                 text-shadow:0 2px 4px rgba(0,0,0,.2);
                 background:linear-gradient(90deg,#fff,#dbeafe,#fff);background-size:200% 100%;
                 background-clip:text;-webkit-background-clip:text;color:transparent;
                 animation:shimmer 3s infinite;}
    @keyframes shimmer{0%{background-position:-200% 0;}100%{background-position:200% 0;}}
    .subtitle{font-size:1.3rem;opacity:.9;font-weight:400;max-width:600px;margin:0 auto;}
    /* ==== MAIN SECTIONS (same visual style, added aria) ==== */
    main{max-width:1100px;margin:0 auto;padding:3rem 1.5rem;}
    section{background:var(--card-bg);padding:2.5rem;border-radius:16px;
            box-shadow:0 4px 20px rgba(0,0,0,.06);margin-bottom:2.5rem;
            border:1px solid var(--border-light);position:relative;overflow:hidden;
            transition:transform .3s,box-shadow .3s;}
    section:hover{transform:translateY(-5px);box-shadow:0 10px 30px rgba(0,0,0,.1);}
    section::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;
                    background:linear-gradient(90deg,var(--primary),var(--secondary),var(--primary));
                    background-size:200% 100%;animation:shimmer 3s infinite;}
    h2{color:var(--primary-dark);margin-bottom:1.5rem;font-size:1.9rem;font-weight:600;
        display:flex;align-items:center;gap:.75rem;}
    h2 i{color:var(--primary);}
    /* ==== TIP CARDS (same) ==== */
    .tips-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;}
    .tip-card{padding:1.75rem;border-radius:12px;display:flex;flex-direction:column;
              gap:1rem;transition:all .3s;border:1px solid transparent;position:relative;
              overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.05);}
    .tip-card::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;
                       background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);
                       transition:left .5s;}
    .tip-card:hover::before{left:100%;}
    .tip-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(0,0,0,.1);}
    .tip-card.good{background:var(--success-light);border-color:rgba(16,185,129,.2);}
    .tip-card.bad{background:var(--danger-light);border-color:rgba(239,68,68,.2);}
    .tip-icon{font-size:1.25rem;width:48px;height:48px;display:flex;align-items:center;
               justify-content:center;border-radius:12px;transition:transform .3s;}
    .tip-card:hover .tip-icon{transform:scale(1.1);}
    .tip-card.good .tip-icon{background:var(--success);color:#fff;}
    .tip-card.bad .tip-icon{background:var(--danger);color:#fff;}
    .expand-btn{background:none;border:none;color:var(--primary);cursor:pointer;
                font-weight:600;display:flex;align-items:center;gap:.5rem;margin-top:1rem;
                font-size:.9rem;transition:color .2s;padding:5px 10px;border-radius:6px;}
    .expand-btn:hover{color:var(--primary-dark);background:rgba(30,58,138,.05);}
    .expand-btn i{transition:transform .3s;}
    .expand-btn.active i{transform:rotate(180deg);}
    .dropdown-content{max-height:0;overflow:hidden;transition:max-height .4s ease;
                      margin-top:1rem;padding-top:0;border-top:1px solid rgba(0,0,0,.05);}
    .dropdown-content.show{max-height:300px;padding-top:1rem;}
    /* ==== QUIZ ==== */
    .quiz .question-box{background:var(--bg-lighter);padding:2rem;border-radius:12px;
                        margin-bottom:1.5rem;border:1px solid var(--border);
                        position:relative;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.05);}
    .quiz .question-box::before{content:'';position:absolute;top:0;left:0;width:4px;height:100%;
                                 background:linear-gradient(to bottom,var(--primary),var(--secondary));}
    .buttons{display:flex;gap:1rem;flex-wrap:wrap;}
    .buttons button{padding:.9rem 1.75rem;border:none;border-radius:10px;cursor:pointer;
                    font-weight:600;color:#fff;transition:all .2s;display:flex;align-items:center;
                    gap:.5rem;font-size:1rem;box-shadow:0 2px 5px rgba(0,0,0,.1);
                    position:relative;overflow:hidden;flex:1;min-width:150px;justify-content:center;}
    .safe-btn{background:var(--success);}
    .safe-btn:hover{background:#0da271;transform:translateY(-2px);box-shadow:0 4px 8px rgba(16,185,129,.3);}
    .scam-btn{background:var(--danger);}
    .scam-btn:hover{background:#dc2626;transform:translateY(-2px);box-shadow:0 4px 8px rgba(239,68,68,.3);}
    .feedback{margin-top:1.25rem;font-weight:600;padding:1rem;border-radius:8px;
              text-align:center;animation:fadeIn .5s;}
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
    .progress-fill{height:100%;background:linear-gradient(90deg,var(--primary),var(--secondary));
                   border-radius:4px;transition:width .5s ease;}
    /* ==== MEDIA & LEADERBOARD (same) ==== */
    .media-card img{width:100%;height:180px;object-fit:cover;display:block;}
    .video-container{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;
                      border-radius:12px;margin-top:1.5rem;}
    .video-container iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:none;}
    .security-tip{background:var(--warning-light);border-left:4px solid var(--warning);
                  padding:1.5rem;border-radius:8px;margin:1.5rem 0;display:flex;
                  align-items:flex-start;gap:1rem;}
    .security-tip i{color:var(--warning);font-size:1.5rem;}
    footer{text-align:center;padding:2.5rem;color:var(--text-light);font-size:.9rem;
           border-top:1px solid var(--border);margin-top:3rem;background:var(--bg-lighter);}
    /* ==== RESPONSIVE ==== */
    @media (max-width:768px){
      .navbar{padding:15px 20px;flex-direction:column;gap:10px;}
      .nav-links{gap:15px;}
      .brand-container{flex-direction:column;gap:1rem;}
      .logo{font-size:3rem;}
      .site-title{font-size:2.2rem;}
      .tips-container{grid-template-columns:1fr;}
      .buttons{flex-direction:column;}
      .buttons button{width:100%;justify-content:center;}
      .progress-container{flex-direction:column;align-items:flex-start;gap:.5rem;}
      .progress-bar{width:100%;margin:0;}
      .media-grid{grid-template-columns:1fr;}
      .quiz-actions{flex-direction:column;}
      .quiz-actions button{width:100%;justify-content:center;}
    }
    /* ==== DARK MODE TOGGLE ==== */
    .dark-mode-toggle{position:fixed;bottom:2rem;right:2rem;background:var(--primary);
                      color:#fff;width:48px;height:48px;border-radius:50%;display:flex;
                      align-items:center;justify-content:center;cursor:pointer;
                      box-shadow:0 4px 12px rgba(0,0,0,.2);z-index:1000;transition:background .3s;}
    .dark-mode-toggle:hover{background:var(--primary-dark);}
  </style>
</head>
<body>

  <!-- ==== NAVBAR ==== -->
  <nav class="navbar" role="navigation" aria-label="Main navigation">
    <div class="logo" aria-label="CyberShield logo">
      <i class="fas fa-shield-alt" aria-hidden="true"></i> CyberShield
    </div>
    <button class="nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
      <i class="fas fa-bars"></i>
    </button>
    <ul class="nav-links" id="nav-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="awareness.html">Awareness</a></li>
      <li><a href="prevention.html" class="active" aria-current="page">Prevention</a></li>
      <li><a href="fraud.html">Report Fraud</a></li>
      <li><a href="resourcecontact.html">Contact</a></li>
    </ul>
  </nav>

  <!-- ==== PARTICLES ==== -->
  <div class="particles" id="particles" aria-hidden="true"></div>

  <!-- ==== ALERT BANNER ==== -->
  <div class="alert-banner" role="alert" aria-live="polite">
    <div class="alert-content">
      <i class="fas fa-exclamation-triangle" aria-hidden="true"></i>
      ALERT: Phishing attacks increased by 45% this quarter. Always verify sender addresses and never click suspicious links.
      <i class="fas fa-exclamation-triangle" aria-hidden="true"></i>
      ALERT: Phishing attacks increased by 45% this quarter. Always verify sender addresses and never click suspicious links.
    </div>
  </div>

  <!-- ==== HEADER ==== -->
  <header role="banner">
    <div class="header-content">
      <div class="brand-container">
        <div class="logo" aria-hidden="true"><i class="fas fa-shield-alt"></i></div>
        <h1 class="site-title">Cyber Shield</h1>
      </div>
      <div class="accent-border" style="margin:0.5rem auto 1rem;"></div>
      <p class="subtitle">Enterprise-Grade Protection Protocols and Threat Mitigation Strategies</p>
    </div>
  </header>

  <main>
    <!-- ==== PREVENTION TIPS ==== -->
    <section role="region" aria-labelledby="protocols-heading">
      <h2 id="protocols-heading"><i class="fas fa-shield-alt" aria-hidden="true"></i> Security Protocol Framework</h2>
      <div class="accent-border"></div>
      <p class="intro">Implement these enterprise-level security measures to protect organizational assets and mitigate cyber threats.</p>

      <div class="tips-container" id="tips-container">
        <!-- Tip cards are generated by JS (same data as original) -->
      </div>
    </section>

    <!-- ==== MEDIA RESOURCES ==== -->
    <section class="media-section" role="region" aria-labelledby="media-heading">
      <h2 id="media-heading"><i class="fas fa-images" aria-hidden="true"></i> Cybersecurity Resources</h2>
      <div class="accent-border"></div>
      <p class="intro">Explore visual guides and videos to strengthen your cyber-defense knowledge.</p>

      <div class="media-grid">
        <div class="media-card">
          <img loading="lazy"
               src="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
               alt="Visual representation of a phishing email attack">
          <div class="media-card-content">
            <h3>Phishing Attack Analysis</h3>
            <p>Identify sophisticated phishing attempts targeting enterprises.</p>
            <a href="#" class="media-link" target="_blank" rel="noopener">View Resource <i class="fas fa-external-link-alt"></i></a>
          </div>
        </div>
        <div class="media-card">
          <img loading="lazy"
               src="https://images.unsplash.com/photo-1563206767-5b18f218e8de?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
               alt="Multi-factor authentication workflow diagram">
          <div class="media-card-content">
            <h3>MFA Implementation Guide</h3>
            <p>Step-by-step rollout across your organization.</p>
            <a href="#" class="media-link" target="_blank" rel="noopener">View Guide <i class="fas fa-external-link-alt"></i></a>
          </div>
        </div>
        <div class="media-card">
          <img loading="lazy"
               src="https://images.unsplash.com/photo-1563013541-3ab36cc058e3?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
               alt="Data encryption illustration">
          <div class="media-card-content">
            <h3>Data Encryption Protocols</h3>
            <p>How encryption safeguards data in transit and at rest.</p>
            <a href="#" class="media-link" target="_blank" rel="noopener">Learn More <i class="fas fa-external-link-alt"></i></a>
          </div>
        </div>
      </div>

      <div class="video-container">
        <iframe src="https://www.youtube.com/embed/aP5O6J0o9E4"
                title="Cybersecurity Awareness Training Video - NCSC"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen
                sandbox="allow-scripts allow-same-origin allow-presentation"></iframe>
      </div>
    </section>

    <!-- ==== INTERACTIVE QUIZ ==== -->
    <section class="quiz" role="region" aria-labelledby="quiz-heading">
      <h2 id="quiz-heading"><i class="fas fa-clipboard-check" aria-hidden="true"></i> Threat Identification Assessment</h2>
      <div class="accent-border"></div>
      <p class="intro">Test your ability to spot real-world threats.</p>

      <div class="progress-container">
        <span id="progress-text">Scenario 1 of 5</span>
        <div class="progress-bar"><div class="progress-fill" id="quiz-progress"></div></div>
        <span id="score-text">Performance: 0/5</span>
      </div>

      <div id="quiz-container"></div>
      <div class="result" id="result" aria-live="polite"></div>

      <div class="quiz-actions" id="quiz-actions" style="display:none;">
        <button class="restart-btn" id="restart-btn"><i class="fas fa-redo"></i> Restart Quiz</button>
        <button class="save-score-btn" id="save-score-btn"><i class="fas fa-trophy"></i> Save Score</button>
      </div>
    </section>

    <!-- ==== LEADERBOARD ==== -->
    <section class="leaderboard-section" role="region" aria-labelledby="leaderboard-heading">
      <h2 id="leaderboard-heading"><i class="fas fa-trophy" aria-hidden="true"></i> Quiz Leaderboard</h2>
      <div class="accent-border"></div>
      <p class="intro">See how you rank against other cyber-defenders.</p>

      <table class="leaderboard-table" aria-describedby="leaderboard-heading">
        <thead>
          <tr><th>Rank</th><th>Participant</th><th>Score</th><th>Date</th></tr>
        </thead>
        <tbody id="leaderboard-body"></tbody>
      </table>
    </section>

    <!-- ==== TIP OF THE DAY ==== -->
    <aside class="security-tip" role="note">
      <i class="fas fa-lightbulb" aria-hidden="true"></i>
      <div>
        <h3>Security Tip of the Day</h3>
        <p>Regularly update software and enable automatic updates to patch known vulnerabilities.</p>
      </div>
    </aside>
  </main>

  <footer role="contentinfo">
    <div class="footer-content">
      <p>© 2023 <span style="font-style:italic;">Cyber Shield</span> Enterprise Security Initiative. All rights reserved.</p>
      <p>This training material is classified for internal organizational use only.</p>
    </div>
  </footer>

  <!-- ==== DARK MODE TOGGLE ==== -->
  <button class="dark-mode-toggle" id="dark-mode-toggle" aria-label="Toggle dark mode">
    <i class="fas fa-moon"></i>
  </button>

  <!-- ==== SCRIPT (consolidated) ==== -->
  <script>
    // ==== PARTICLES ==== 
    function createParticles() {
      const container = document.getElementById('particles');
      const count = 30;
      for (let i = 0; i < count; i++) {
        const p = document.createElement('div');
        p.className = 'particle';
        p.style.left = `${Math.random() * 100}%`;
        p.style.top = `${Math.random() * 100}%`;
        const size = Math.random() * 4 + 2;
        p.style.width = p.style.height = `${size}px`;
        p.style.animationDuration = `${Math.random() * 20 + 10}s`;
        p.style.animationDelay = `${Math.random() * 5}s`;
        container.appendChild(p);
      }
    }

    // ==== TIP DATA (same as original) ====
    const tipData = [
      {icon:'fa-lock',title:'Multi-Factor Authentication',badge:'Critical',type:'good',
       short:'Implement MFA across all systems to add critical verification layers beyond passwords.',
       details:`<p>Multi-factor authentication requires two or more verification factors.</p>
                <ul><li>Reduces account takeover by 99.9%</li>
                    <li>Protects against credential stuffing</li>
                    <li>Compliance with regulations</li>
                    <li>Works with biometrics, tokens, or apps</li></ul>`},
      {icon:'fa-link',title:'URL Verification Protocol',type:'good',
       short:'Always verify link destinations and sender authenticity before interaction.',
       details:`<p>Best practices:</p>
                <ul><li>Hover to preview destination</li>
                    <li>Check HTTPS & certificates</li>
                    <li>Verify sender email</li>
                    <li>Use URL scanners</li></ul>`},
      {icon:'fa-key',title:'Credential Management',badge:'Essential',type:'good',
       short:'Utilize complex, unique passwords and enterprise password management solutions.',
       details:`<p>Key elements:</p>
                <ul><li>12+ characters with symbols</li>
                    <li>Enterprise password manager</li>
                    <li>Automatic rotation</li>
                    <li>Encrypted storage</li></ul>`},
      {icon:'fa-ban',title:'Sensitive Information Disclosure',type:'bad',
       short:'Never share OTPs, passwords, or sensitive data via unsolicited communications.',
       details:`<p>Protection strategies:</p>
                <ul><li>Legitimate orgs never ask for passwords via email/phone</li>
                    <li>Verify caller identity</li>
                    <li>Use encrypted channels</li>
                    <li>Report suspicious requests</li></ul>`},
      {icon:'fa-exclamation-triangle',title:'Unauthorized Interface Interaction',type:'bad',
       short:'Avoid interacting with unsolicited pop-ups, alerts, or security prompts.',
       details:`<p>Prevention tips:</p>
                <ul><li>Close pop-ups via task manager</li>
                    <li>Never enter credentials in unexpected prompts</li>
                    <li>Keep browsers updated</li>
                    <li>Use ad-blockers</li></ul>`},
      {icon:'fa-redo',title:'Credential Recycling',badge:'High Risk',type:'bad',
       short:'Password reuse across systems creates systemic vulnerability exposure.',
       details:`<p>Key concerns:</p>
                <ul><li>One breach compromises all accounts</li>
                    <li>Attackers test credentials across platforms</li>
                    <li>Use unique passwords per service</li>
                    <li>Password manager recommended</li></ul>`}
    ];

    // ==== RENDER TIPS ====
    function renderTips() {
      const container = document.getElementById('tips-container');
      container.innerHTML = tipData.map(t => `
        <div class="tip-card ${t.type}">
          <div class="tip-header">
            <div class="tip-icon"><i class="fas ${t.icon}"></i></div>
            <div class="tip-content">
              <h3>${t.title} ${t.badge?`<span class="badge">${t.badge}</span>`:''}</h3>
              <p>${t.short}</p>
            </div>
          </div>
          <button class="expand-btn" aria-expanded="false">Learn More <i class="fas fa-chevron-down"></i></button>
          <div class="dropdown-content">${t.details}</div>
        </div>`).join('');
      attachTipListeners();
    }

    function attachTipListeners() {
      document.querySelectorAll('.expand-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          // close others
          document.querySelectorAll('.expand-btn').forEach(b => {
            b.setAttribute('aria-expanded', 'false');
            b.classList.remove('active');
            b.nextElementSibling.classList.remove('show');
          });
          if (!expanded) {
            btn.setAttribute('aria-expanded', 'true');
            btn.classList.add('active');
            btn.nextElementSibling.classList.add('show');
          }
        });
      });
    }

    // ==== QUIZ DATA ====
    const quizData = [
      {question:"You receive an email from 'admin@bank-secure.com' asking to verify your credentials urgently. What should you do?",safe:false},
      {question:"Your system prompts a security update from your IT department's official portal. Should you proceed?",safe:true},
      {question:"You get a call requesting your OTP to verify a transaction you didn't initiate. Should you share it?",safe:false},
      {question:"A co-worker asks you to share a company file over your official email for review. Is this safe?",safe:true},
      {question:"You find a USB drive labeled 'Payroll Data' in the office parking lot. Should you plug it in?",safe:false}
    ];

    // ==== QUIZ STATE ====
    let current = 0, score = 0;
    const quizContainer = document.getElementById('quiz-container');
    const resultDiv = document.getElementById('result');
    const progressText = document.getElementById('progress-text');
    const progressFill = document.getElementById('quiz-progress');
    const scoreText = document.getElementById('score-text');
    const quizActions = document.getElementById('quiz-actions');
    const restartBtn = document.getElementById('restart-btn');
    const saveScoreBtn = document.getElementById('save-score-btn');
    const leaderboardBody = document.getElementById('leaderboard-body');
    let leaderboard = JSON.parse(localStorage.getItem('cybersecurity-leaderboard')) || [];

    function updateLeaderboard() {
      leaderboardBody.innerHTML = '';
      if (!leaderboard.length) {
        leaderboardBody.innerHTML = '<tr><td colspan="4" style="text-align:center;">No scores yet. Be the first!</td></tr>';
        return;
      }
      leaderboard.forEach((e,i) => {
        const rankClass = i===0?'rank-1':i===1?'rank-2':i===2?'rank-3':'';
        const row = `<tr>
          <td><span class="rank ${rankClass}">${i+1}</span></td>
          <td>${e.name}</td>
          <td>${e.score}/${quizData.length}</td>
          <td>${e.date}</td>
        </tr>`;
        leaderboardBody.innerHTML += row;
      });
    }
    updateLeaderboard();

    function loadQuestion() {
      if (current >= quizData.length) { showResult(); return; }
      const q = quizData[current];
      quizContainer.innerHTML = `
        <div class="question-box">
          <p>${q.question}</p>
          <div class="buttons">
            <button class="safe-btn"><i class="fas fa-check"></i> Safe</button>
            <button class="scam-btn"><i class="fas fa-times"></i> Scam</button>
          </div>
          <div class="feedback" id="feedback"></div>
        </div>`;
      progressText.textContent = `Scenario ${current+1} of ${quizData.length}`;
      progressFill.style.width = `${(current / quizData.length)*100}%`;

      const feedback = document.getElementById('feedback');
      document.querySelectorAll('.buttons button').forEach(btn => {
        btn.addEventListener('click', () => {
          const isSafe = btn.classList.contains('safe-btn');
          if (isSafe === q.safe) { score++; feedback.textContent = "Correct! Well identified."; feedback.style.background = 'var(--success-light)'; feedback.style.color = 'var(--success)'; }
          else { feedback.textContent = "Incorrect. Review warning signs."; feedback.style.background = 'var(--danger-light)'; feedback.style.color = 'var(--danger)'; }
          document.querySelectorAll('.buttons button').forEach(b=>b.disabled=true);
          scoreText.textContent = `Performance: ${score}/${quizData.length}`;
          progressFill.style.width = `${((current+1)/quizData.length)*100}%`;
          setTimeout(() => { current++; loadQuestion(); }, 1800);
        });
      });
    }

    function showResult() {
      quizContainer.innerHTML = '';
      let msg = score===quizData.length ? "Excellent! You're a true Cyber Shield defender."
              : score>=3 ? "Good job! Strong grasp of digital safety."
              : "Caution! Review cyber-hygiene practices.";
      resultDiv.innerHTML = `<strong>Final Score: ${score}/${quizData.length}</strong><br>${msg}`;
      quizActions.style.display = 'flex';
    }

    restartBtn.onclick = () => {
      current = score = 0;
      resultDiv.innerHTML = '';
      quizActions.style.display = 'none';
      scoreText.textContent = `Performance: 0/${quizData.length}`;
      loadQuestion();
    };

    saveScoreBtn.onclick = () => {
      const name = prompt("Enter your name for the leaderboard:");
      if (!name) return;
      const entry = {name, score, date:new Date().toLocaleDateString()};
      leaderboard.push(entry);
      leaderboard.sort((a,b)=>b.score-a.score);
      leaderboard = leaderboard.slice(0,10);
      localStorage.setItem('cybersecurity-leaderboard', JSON.stringify(leaderboard));
      updateLeaderboard();
      alert(`Saved! You are #${leaderboard.findIndex(e=>e.name===name)+1}`);
    };

    // ==== NAVBAR MOBILE TOGGLE ====
    const navToggle = document.querySelector('.nav-toggle');
    const navLinks = document.getElementById('nav-links');
    navToggle.addEventListener('click', () => {
      const expanded = navToggle.getAttribute('aria-expanded') === 'true';
      navToggle.setAttribute('aria-expanded', !expanded);
      navLinks.classList.toggle('open');
    });

    // ==== DARK MODE TOGGLE ====
    const darkToggle = document.getElementById('dark-mode-toggle');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    if (prefersDark) document.documentElement.classList.add('dark');
    darkToggle.addEventListener('click', () => {
      document.documentElement.classList.toggle('dark');
      darkToggle.innerHTML = document.documentElement.classList.contains('dark') ?
        '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
    });

    // ==== INIT ====
    document.addEventListener('DOMContentLoaded', () => {
      createParticles();
      renderTips();
      loadQuestion();
    });
  </script>
</body>
</html>
